<!DOCTYPE html>
<html lang="en-us">
<head>
    <style>
        body {
            overflow: hidden; /* Hide scrollbars */
        }
    </style>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Unity WebGL Player | Health Insurance </title>
    <link rel="shortcut icon" href="TemplateData/favicon.ico">
    <link rel="stylesheet" href="TemplateData/style.css">
    <link rel="stylesheet" href="Library/bootstrap-4.3.1-dist/css/bootstrap.min.css">
    <script src="TemplateData/UnityProgress.js"></script>
    <script src="Build/UnityLoader.js"></script>

    <script src="Library/jquery-3.6.0.min.js"></script>
    <script src="Library/bootstrap-4.3.1-dist/js/bootstrap.min.js"></script>
    <script>
        var isFullScreen, EscKeyPressed;
        var unityInstance = UnityLoader.instantiate("unityContainer", "Build/Health Insurance.json", {onProgress: UnityProgress});


        function Complete(){
            console.log("Completed");
            window.parent.postMessage("Completed", "*");
            console.log("Complete");
        }

        function AppQuit(){
            console.log("Quit the app");
            window.parent.postMessage("Exit",
                "*");
            console.log("Exit.");
            //history.back();
        }

        function FullScreenGame(){
            unityInstance.SetFullscreen(1);
            EscKeyPressed = false;
            //window.screen.orientation.lock("landscape-primary");
            // window.screen.orientation
            // .lock("landscape-primary")
            // .then(success => console.log(success),
            //     failure => console.log(failure))
        }

        var i = 0;
        function makeProgress(i){
            if(i < 100){

                $(".progress-bar").css("width", (i * 100)  + "%").text((i * 100).toFixed() + " %");

            }
            // Wait for sometime before running this script again
            // setTimeout("makeProgress()", 100);
        }

        document.addEventListener("fullscreenchange", function (message){
            if(isFullScreen){
                isFullScreen = false;
                EscKeyPressed  = true;  
            }
            else{
                isFullScreen = true;
            }
        })

    </script>
</head>
<body>
<div id="custom-logo"></div>
<div id="New">
    <div class="progress" >
        <div class="progress-bar bg-success progress-bar-striped active" role="progressbar"
             aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:0%">
            0%
        </div>
    </div>
</div>

<div class="webgl-content" style="display: table; width: 100%; height: 100%;">
    <div id="unityContainer"></div>
</div>
<script>

    console.log("Screen Orientaion " + screen.orientation.type);
    var mywidth = innerWidth;
    var myheight = innerHeight;
    document.getElementById("unityContainer").style.width = mywidth + "px";
    document.getElementById("unityContainer").style.height = myheight + "px";
    window.addEventListener("resize", function(){
        mywidth = innerWidth;
        myheight = innerHeight;
        document.getElementById("unityContainer").style.width = mywidth + "px";
        document.getElementById("unityContainer").style.height = myheight + "px";
    })

    /*
        document.addEventListener("click", function(){
          //  unityInstance.SetFullscreen(1);
    
            document.documentElement.requestFullscreen();
          });
    */
</script>
</body>
</html>
